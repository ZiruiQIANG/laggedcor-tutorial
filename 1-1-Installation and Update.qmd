# Installation and Update

If you haven't installed R or RStudio on your PC or Mac, please install them before proceeding. Otherwise, you can skip these steps.

## Install R

Download the [R](https://www.r-project.org/) and install it.

[ðŸ‘‰ Refer this blog](https://www.dataquest.io/blog/installing-r-on-your-computer/)

## Install RStudio

Then install RStudio. Download the [RStudio](https://www.rstudio.com/products/rstudio/download/#download) and then install it.

Select the free version of RStudio Desktop.

![](/images/part1/rstudio_desktop.png) [ðŸ‘‰ Refer this blog](https://www.stat.colostate.edu/~jah/talks_public_html/isec2020/installRStudio.html)

## Open the RStudio

Then open the RStudio

![](/images/part1/open_rstudio.png)

## Update R

`lagci` require R version \> 4.1. Please update your R if the version \< 4.1.

You can check your R version in your console:

```{r, echo=TRUE, eval=TRUE}
version
```

If your R version is \< 4.1, please download and install the [latest version of R](https://cran.r-project.org/mirrors.html), and then restart your R.

## Safe Installation of `lagci`

lagci needs a lot of dependent packages. When you install lagci via `devtools:: install_github("jaspershen-lab/lagci")` directly, it will spend lots of time, meanwhile it will encounter errors easily.

To install `lagci` safely, please run the script below.

Install `devtools`, `pak` and `BiocManager` packages first.

```{r,eval=FALSE}

if (!requireNamespace("devtools")) 
  install.packages("devtools")

if (!require("BiocManager", quietly = TRUE))
  install.packages("BiocManager")

if (!require("pak", quietly = TRUE)) 
  install.packages("pak")
```         

Get the available mirror of `CRAN` and `BioConductor` from [CRAN mirrors](https://cran.r-project.org/mirrors.html) and [BioConductor mirrors](https://www.bioconductor.org/about/mirrors/)

Configure the mirror of `CRAN` and `BioConductor` that `pak` can use (just for this R session):


```{r,eval=FALSE}
# 1) Pick your Bioconductor mirror (do this first)
options(BioC_mirror = "https://bioconductor.posit.co")  # any Bioc mirror URL works

# 2) Pick your CRAN mirror
options(repos = c(CRAN = "https://cloud.r-project.org"))

# 3) Populate a consistent set of CRAN + Bioc repos for your R/Bioc version
if (!requireNamespace("BiocManager", quietly = TRUE)) install.packages("BiocManager")
options(repos = BiocManager::repositories())

# 4) Verify what pak will use
pak::repo_get()
```


Run this command to install `lagci` safely:

```{r, eval=FALSE}
pak::pak("jaspershen-lab/lagci")
```

Get the `lagci` package dependencies tree (Optinal):

```{r, echo=TRUE, eval=TRUE}
pak::pkg_deps_tree("jaspershen-lab/lagci")
```


## Update the `lagci` package

```{r,eval=FALSE}
# 0) See if you have libraried the lagci package
print("package:lagci" %in% search()) # if you libraried the lagci, it will echo `TRUE`

# 1) Detach the libraried lagci package
detach(name = "package:lagci", unload = TRUE)

# 2) Uninstall the lagci package that already existed
remove.packages(pkgs = "lagci")

# 3) Install the lagci once again
pak::pak("jaspershen-lab/lagci")
```
