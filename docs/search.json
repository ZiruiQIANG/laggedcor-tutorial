[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "lagci Tutorial",
    "section": "",
    "text": "Preface\n\nlagci helps you answer questions such as:\n\nHow long after a glucose spike does my heart-rate change?\nWhich biomarker moves first—cortisol or cytokine?\n\nBased on the algorithm published in Nature Communications (2019),\nit combines sliding windows, LOESS smoothing and bootstrap correction to estimate robust lagged correlations.\n\nLearning path\n\n\n\n\n\n\n\nChapter\nGoal\n\n\n\n\n1 Install lagci and Docker\nGet lagci and all dependencies running locally\n\n\n2 Raw Data Processing and Preview\nConvert wide tables to long, clean timestamps\n\n\n3 Calculation and Plotting\nTen lines of R to obtain a lagged correlation curve\n\n\n4 lagcishiny Web Application\nDrop-in UI for interactive dashboards\n\n\n5 FAQ & Citation\nTroubleshooting and academic citation\n\n\n\n\n\n📬 Contact us\n\n📧 Email xiaotao.shen@outlook.com\n\n🔗 Shen Lab website shen-lab.org\n\n💬 WeChat @jaspershen1990\n\n🐦 Twitter @xiaotaoshen1990\n\nWelcome to the laggedcor tutorial! Enjoy, and feel free to send pull requests!",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html",
    "href": "1-1-Installation and Update.html",
    "title": "1  Installation and Update",
    "section": "",
    "text": "1.1 Install R\nIf you haven’t installed R or RStudio on your PC or Mac, please install them before proceeding. Otherwise, you can skip these steps.\nDownload the R and install it.\n👉 Refer this blog",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#dependencies-of-laggedcor",
    "href": "1-1-Installation and Update.html#dependencies-of-laggedcor",
    "title": "1  Installation and Update",
    "section": "1.5 Dependencies of laggedcor",
    "text": "1.5 Dependencies of laggedcor\nif (!requireNamespace(\"devtools\")) install.packages(\"devtools\")\ndevtools::install_github(\"jaspershen-lab/laggedcor\", dependencies = TRUE)",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-3-Docker Version of lagcishiny.html",
    "href": "1-3-Docker Version of lagcishiny.html",
    "title": "4  1.3 Docker laggedcor",
    "section": "",
    "text": "Run laggedcor in Docker.",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Docker Version of lagcishiny</span>"
    ]
  },
  {
    "objectID": "1-4-Build your own Docker Image.html",
    "href": "1-4-Build your own Docker Image.html",
    "title": "5  1.4 Build your own Docker",
    "section": "",
    "text": "Customizing Docker image.",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Build your own Docker Image</span>"
    ]
  },
  {
    "objectID": "2-1-Raw Data Processing.html",
    "href": "2-1-Raw Data Processing.html",
    "title": "7  2.1 Create dataset",
    "section": "",
    "text": "Prepare data for laggedcor.",
    "crumbs": [
      "Raw Data Processing and Preview",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Raw Data Processing</span>"
    ]
  },
  {
    "objectID": "2-2-Preview and Time Plot.html",
    "href": "2-2-Preview and Time Plot.html",
    "title": "8  2.2 Add metadata",
    "section": "",
    "text": "Metadata integration.",
    "crumbs": [
      "Raw Data Processing and Preview",
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Preview and Time Plot</span>"
    ]
  },
  {
    "objectID": "3-1-Calculation.html",
    "href": "3-1-Calculation.html",
    "title": "7  Calculation",
    "section": "",
    "text": "7.1 Prepare your data\nThis tutorial will help you to calculate the lagged correlation between two time series. It will use calculate_lagged_correlation function of lagci package.\nYou can get started with the example data in lagci package. And the format of time column is POSIXct\nlibrary(lagci)\n\nWarning in fun(libname, pkgname): mzR has been built against a different Rcpp version (1.0.13)\nthan is installed on your system (1.1.0). This might lead to errors\nwhen loading mzR. If you encounter such issues, please send a report,\nincluding the output of sessionInfo() to the Bioc support forum at \nhttps://support.bioconductor.org/. For details see also\nhttps://github.com/sneumann/mzR/wiki/mzR-Rcpp-compiler-linker-issue.\n\n\n── Attaching packages ────────────────────────────────────────── lagci 0.99.5 ──\n\n\n✔ dplyr   1.1.4     ✔ ggplot2 3.5.2\n\n\n── Conflicts ────────────────────────────────────────────── lagci_conflicts() ──\n✖ methods::body&lt;-()    masks base::body&lt;-()\n✖ dplyr::filter()      masks stats::filter()\n✖ methods::kronecker() masks base::kronecker()\n✖ dplyr::lag()         masks stats::lag()\n\ndata(\"heart_data\")\ndata(\"step_data\")\n\nhead(heart_data)\n\n                 time heart\n1 2019-04-29 00:00:08    64\n2 2019-04-29 00:00:13    65\n3 2019-04-29 00:00:18    66\n4 2019-04-29 00:00:23    65\n5 2019-04-29 00:00:33    64\n6 2019-04-29 00:00:38    61\n\nhead(step_data)\n\n                 time step\n1 2019-04-29 00:00:00    0\n2 2019-04-29 00:01:00    0\n3 2019-04-29 00:02:00    0\n4 2019-04-29 00:03:00    0\n5 2019-04-29 00:04:00    0\n6 2019-04-29 00:05:00    0\n\nclass(heart_data$time)\n\n[1] \"POSIXct\" \"POSIXt\" \n\nclass(step_data$time)\n\n[1] \"POSIXct\" \"POSIXt\"",
    "crumbs": [
      "Calculation and Plotting",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Calculation</span>"
    ]
  },
  {
    "objectID": "3-2-Extract Data form Calculation Result.html",
    "href": "3-2-Extract Data form Calculation Result.html",
    "title": "10  3.2 Data convert",
    "section": "",
    "text": "Convert data formats.",
    "crumbs": [
      "Calculation and Plotting",
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Extract Data form Calculation Result</span>"
    ]
  },
  {
    "objectID": "3-3-Alignment Plot.html",
    "href": "3-3-Alignment Plot.html",
    "title": "11  2.3 Dataset with other tools",
    "section": "",
    "text": "Interoperability.",
    "crumbs": [
      "Calculation and Plotting",
      "<span class='chapter-number'>11</span>  <span class='chapter-title'>Alignment Plot</span>"
    ]
  },
  {
    "objectID": "3-4-Scatter Plot.html",
    "href": "3-4-Scatter Plot.html",
    "title": "12  2.4 Extract",
    "section": "",
    "text": "Extract relevant signals.",
    "crumbs": [
      "Calculation and Plotting",
      "<span class='chapter-number'>12</span>  <span class='chapter-title'>Scatter Plot</span>"
    ]
  },
  {
    "objectID": "3-5-Evaluated Plot.html",
    "href": "3-5-Evaluated Plot.html",
    "title": "13  2.5 Processing information",
    "section": "",
    "text": "Track processing steps.",
    "crumbs": [
      "Calculation and Plotting",
      "<span class='chapter-number'>13</span>  <span class='chapter-title'>Evaluated Plot</span>"
    ]
  },
  {
    "objectID": "4-1-Installation of lagcishiny.html",
    "href": "4-1-Installation of lagcishiny.html",
    "title": "14  4.1 Analysis workflow",
    "section": "",
    "text": "Complete analysis pipeline.",
    "crumbs": [
      "lagcishiny Web Application",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Installation of lagcishiny</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#install-rstudio",
    "href": "1-1-Installation and Update.html#install-rstudio",
    "title": "1  Installation and Update",
    "section": "1.2 Install RStudio",
    "text": "1.2 Install RStudio\nThen install RStudio. Download the RStudio and then install it.\nSelect the free version of RStudio Desktop.\n 👉 Refer this blog",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#open-the-rstudio",
    "href": "1-1-Installation and Update.html#open-the-rstudio",
    "title": "1  Installation and Update",
    "section": "1.3 Open the RStudio",
    "text": "1.3 Open the RStudio\nThen open the RStudio",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#update-r",
    "href": "1-1-Installation and Update.html#update-r",
    "title": "1  Installation and Update",
    "section": "1.4 Update R",
    "text": "1.4 Update R\nlagci require R version &gt; 4.1. Please update your R if the version &lt; 4.1.\nYou can check your R version in your console:\n\nversion\n\n               _                                \nplatform       x86_64-w64-mingw32               \narch           x86_64                           \nos             mingw32                          \ncrt            ucrt                             \nsystem         x86_64, mingw32                  \nstatus                                          \nmajor          4                                \nminor          4.3                              \nyear           2025                             \nmonth          02                               \nday            28                               \nsvn rev        87843                            \nlanguage       R                                \nversion.string R version 4.4.3 (2025-02-28 ucrt)\nnickname       Trophy Case                      \n\n\nIf your R version is &lt; 4.1, please download and install the latest version of R, and then restart your R.",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#dependencies-of-lagci",
    "href": "1-1-Installation and Update.html#dependencies-of-lagci",
    "title": "1  Installation and Update",
    "section": "1.5 Dependencies of lagci",
    "text": "1.5 Dependencies of lagci\nlagci needs a lot of dependent packages. When you install lagci via devtools:: install_github(\"jaspershen-lab/lagci\") directly, it will spend lots of time, meanwhile it will encounter errors easily.\nTo install lagci safely, please run the script below.\nInstall devtools, pak and BiocManager packages first.\n```r, eval=false if (!requireNamespace(“devtools”)) install.packages(“devtools”)\nif (!require(“BiocManager”, quietly = TRUE)) install.packages(“BiocManager”)\nif (!require(“pak”, quietly = TRUE)) install.packages(“pak”)\n\nGet the available mirror of `CRAN` and `BioConductor` from [CRAN mirrors](https://cran.r-project.org/mirrors.html) and [BioConductor mirrors](https://www.bioconductor.org/about/mirrors/)\n\nConfig the mirror of `CRAN` and `BioConductor` that `pak` can use:\n\n```r, eval=false\nGet the lagci package dependencies tree:\npak::pkg_deps_tree(\"jaspershen-lab/lagci\")",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#safe-installation-of-lagci",
    "href": "1-1-Installation and Update.html#safe-installation-of-lagci",
    "title": "1  Installation and Update",
    "section": "1.5 Safe Installation of lagci",
    "text": "1.5 Safe Installation of lagci\nlagci needs a lot of dependent packages. When you install lagci via devtools:: install_github(\"jaspershen-lab/lagci\") directly, it will spend lots of time, meanwhile it will encounter errors easily.\nTo install lagci safely, please run the script below.\nInstall devtools, pak and BiocManager packages first.\n\nif (!requireNamespace(\"devtools\")) \n  install.packages(\"devtools\")\n\nif (!require(\"BiocManager\", quietly = TRUE))\n  install.packages(\"BiocManager\")\n\nif (!require(\"pak\", quietly = TRUE)) \n  install.packages(\"pak\")\n\nGet the available mirror of CRAN and BioConductor from CRAN mirrors and BioConductor mirrors\nConfigure the mirror of CRAN and BioConductor that pak can use (just for this R session):\n\n# 1) Pick your Bioconductor mirror (do this first)\noptions(BioC_mirror = \"https://bioconductor.posit.co\")  # any Bioc mirror URL works\n\n# 2) Pick your CRAN mirror\noptions(repos = c(CRAN = \"https://cloud.r-project.org\"))\n\n# 3) Populate a consistent set of CRAN + Bioc repos for your R/Bioc version\nif (!requireNamespace(\"BiocManager\", quietly = TRUE)) install.packages(\"BiocManager\")\noptions(repos = BiocManager::repositories())\n\n# 4) Verify what pak will use\npak::repo_get()\n\nRun this command to install lagci safely:\n\npak::pak(\"jaspershen-lab/lagci\")\n\nGet the lagci package dependencies tree (Optinal):\n\npak::pkg_deps_tree(\"jaspershen-lab/lagci\")\n\nℹ Loading metadata database\n\n\n✔ Loading metadata database ... done\n\n\n\n\n\njaspershen-lab/lagci 0.99.5 [new][bld][cmp][dl] (unknown size)\n├─crayon 1.5.3 [new][dl] (165.17 kB)\n├─purrr 1.1.0 [new][dl] (568.14 kB)\n│ ├─cli 3.6.5 [new][dl] (1.40 MB)\n│ ├─lifecycle 1.0.4 [new][dl] (140.93 kB)\n│ │ ├─cli\n│ │ ├─glue 1.8.0 [new][dl] (183.78 kB)\n│ │ └─rlang 1.1.6 [new][dl] (1.63 MB)\n│ ├─magrittr 2.0.3 [new][dl] (229.42 kB)\n│ ├─rlang\n│ └─vctrs 0.6.5 [new][dl] (1.36 MB)\n│   ├─cli\n│   ├─glue\n│   ├─lifecycle\n│   └─rlang\n├─stringr 1.5.1 [new][dl] (323.42 kB)\n│ ├─cli\n│ ├─glue\n│ ├─lifecycle\n│ ├─magrittr\n│ ├─rlang\n│ ├─stringi 1.8.7 [new][dl] (15.03 MB)\n│ └─vctrs\n├─cli\n├─magrittr\n├─rstudioapi 0.17.1 [new][dl] (342.23 kB)\n├─dplyr 1.1.4 [new][dl] (1.58 MB)\n│ ├─cli\n│ ├─generics 0.1.4 [new][dl] (85.14 kB)\n│ ├─glue\n│ ├─lifecycle\n│ ├─magrittr\n│ ├─pillar 1.11.0 [new][dl] (673.46 kB)\n│ │ ├─cli\n│ │ ├─glue\n│ │ ├─lifecycle\n│ │ ├─rlang\n│ │ ├─utf8 1.2.6 [new][dl] (154.70 kB)\n│ │ └─vctrs\n│ ├─R6 2.6.1 [new][dl] (88.64 kB)\n│ ├─rlang\n│ ├─tibble 3.3.0 [new][dl] (698.31 kB)\n│ │ ├─cli\n│ │ ├─lifecycle\n│ │ ├─magrittr\n│ │ ├─pillar\n│ │ ├─pkgconfig 2.0.3 [new][dl] (22.81 kB)\n│ │ ├─rlang\n│ │ └─vctrs\n│ ├─tidyselect 1.2.1 [new][dl] (228.15 kB)\n│ │ ├─cli\n│ │ ├─glue\n│ │ ├─lifecycle\n│ │ ├─rlang\n│ │ ├─vctrs\n│ │ └─withr 3.0.2 [new][dl] (231.37 kB)\n│ └─vctrs\n├─rlang\n├─tibble\n├─ggplot2 3.5.2 [new][dl] (5.02 MB)\n│ ├─cli\n│ ├─glue\n│ ├─gtable 0.3.6 [new][dl] (249.79 kB)\n│ │ ├─cli\n│ │ ├─glue\n│ │ ├─lifecycle\n│ │ └─rlang\n│ ├─isoband 0.2.7 [new][dl] (1.93 MB)\n│ ├─lifecycle\n│ ├─MASS 7.3-65 \n│ ├─mgcv 1.9-3 \n│ │ ├─nlme 3.1-168 \n│ │ │ └─lattice 0.22-6 -&gt; 0.22-7 [upd][dl] (1.40 MB)\n│ │ └─Matrix 1.7-2 -&gt; 1.7-3 [upd][dl] (4.98 MB)\n│ │   └─lattice\n│ ├─rlang\n│ ├─scales 1.4.0 [new][dl] (882.99 kB)\n│ │ ├─cli\n│ │ ├─farver 2.1.2 [new][dl] (1.52 MB)\n│ │ ├─glue\n│ │ ├─labeling 0.4.3 [new][dl] (63.36 kB)\n│ │ ├─lifecycle\n│ │ ├─R6\n│ │ ├─RColorBrewer 1.1-3 [new][dl] (54.47 kB)\n│ │ ├─rlang\n│ │ └─viridisLite 0.4.2 [new][dl] (1.30 MB)\n│ ├─tibble\n│ ├─vctrs\n│ └─withr\n├─plyr 1.8.9 [new][dl] (1.11 MB)\n│ └─Rcpp 1.1.0 [new][dl] (2.90 MB)\n├─BiocParallel 1.40.2 [new][bld][cmp][dl] (unknown size)\n│ ├─BH 1.87.0-1 [new][dl] (21.80 MB)\n│ ├─codetools 0.2-20 \n│ ├─cpp11 0.5.2 [new][dl] (310.77 kB)\n│ ├─futile.logger 1.4.3 [new][dl] (97.93 kB)\n│ │ ├─futile.options 1.0.1 [new][dl] (21.49 kB)\n│ │ └─lambda.r 1.2.4 [new][dl] (112.74 kB)\n│ │   └─formatR 1.14 [new][dl] (155.91 kB)\n│ └─snow 0.4-4 [new][dl] (99.91 kB)\n├─ggrepel 0.9.6 [new][dl] (603.96 kB)\n│ ├─ggplot2\n│ ├─Rcpp\n│ ├─rlang\n│ ├─scales\n│ └─withr\n├─ggsci 3.2.0 [new][dl] (2.40 MB)\n│ ├─ggplot2\n│ └─scales\n├─lubridate 1.9.4 [new][dl] (989.17 kB)\n│ ├─generics\n│ └─timechange 0.3.0 [new][dl] (514.48 kB)\n│   └─cpp11\n├─scales\n├─tidymass/massdataset 0.99.0 [new][bld][cmp][dl] (unknown size)\n│ ├─dplyr\n│ ├─magrittr\n│ ├─tibble\n│ ├─stringr\n│ ├─rstudioapi\n│ ├─ggplot2\n│ ├─openxlsx 4.2.8 [new][dl] (2.48 MB)\n│ │ ├─Rcpp\n│ │ ├─stringi\n│ │ └─zip 2.3.3 [new][dl] (453.44 kB)\n│ ├─crayon\n│ ├─cli\n│ ├─purrr\n│ ├─readr 2.1.5 [new][dl] (1.19 MB)\n│ │ ├─cli\n│ │ ├─clipr 0.8.0 [new][dl] (55.53 kB)\n│ │ ├─cpp11\n│ │ ├─crayon\n│ │ ├─hms 1.1.3 [new][dl] (105.34 kB)\n│ │ │ ├─lifecycle\n│ │ │ ├─pkgconfig\n│ │ │ ├─rlang\n│ │ │ └─vctrs\n│ │ ├─lifecycle\n│ │ ├─R6\n│ │ ├─rlang\n│ │ ├─tibble\n│ │ ├─tzdb 0.5.0 [new][dl] (1.04 MB)\n│ │ │ └─cpp11\n│ │ └─vroom 1.6.5 [new][dl] (1.34 MB)\n│ │   ├─bit64 4.6.0-1 [new][dl] (512.02 kB)\n│ │   │ └─bit 4.6.0 [new][dl] (637.12 kB)\n│ │   ├─cli\n│ │   ├─cpp11\n│ │   ├─crayon\n│ │   ├─glue\n│ │   ├─hms\n│ │   ├─lifecycle\n│ │   ├─rlang\n│ │   ├─tibble\n│ │   ├─tidyselect\n│ │   ├─tzdb\n│ │   ├─vctrs\n│ │   └─withr\n│ ├─rlang\n│ ├─github::tidymass/masstools 0.99.0 [new][bld][cmp][dl] (unknown size)\n│ │ ├─dplyr\n│ │ ├─jsonlite 2.0.0 [new][dl] (1.11 MB)\n│ │ ├─remotes 2.5.0 [new][dl] (435.52 kB)\n│ │ ├─magrittr\n│ │ ├─tibble\n│ │ ├─tidyr 1.3.1 [new][dl] (1.27 MB)\n│ │ │ ├─cli\n│ │ │ ├─cpp11\n│ │ │ ├─dplyr\n│ │ │ ├─glue\n│ │ │ ├─lifecycle\n│ │ │ ├─magrittr\n│ │ │ ├─purrr\n│ │ │ ├─rlang\n│ │ │ ├─stringr\n│ │ │ ├─tibble\n│ │ │ ├─tidyselect\n│ │ │ └─vctrs\n│ │ ├─stringr\n│ │ ├─crayon\n│ │ ├─cli\n│ │ ├─purrr\n│ │ ├─pbapply 1.7-4 [new][dl] (102.70 kB)\n│ │ ├─httr 1.4.7 [new][dl] (496.83 kB)\n│ │ │ ├─curl 6.4.0 [new][dl] (3.66 MB)\n│ │ │ ├─jsonlite\n│ │ │ ├─mime 0.13 [new][dl] (52.39 kB)\n│ │ │ ├─openssl 2.3.3 [new][dl] (3.47 MB)\n│ │ │ │ └─askpass 1.2.1 [new][dl] (74.69 kB)\n│ │ │ │   └─sys 3.4.3 [new][dl] (47.84 kB)\n│ │ │ └─R6\n│ │ ├─rvest 1.0.4 [new][dl] (308.62 kB)\n│ │ │ ├─cli\n│ │ │ ├─glue\n│ │ │ ├─httr\n│ │ │ ├─lifecycle\n│ │ │ ├─magrittr\n│ │ │ ├─rlang\n│ │ │ ├─selectr 0.4-2 [new][dl] (501.28 kB)\n│ │ │ │ ├─R6\n│ │ │ │ └─stringr\n│ │ │ ├─tibble\n│ │ │ └─xml2 1.3.8 [new][dl] (1.61 MB)\n│ │ │   ├─cli\n│ │ │   └─rlang\n│ │ ├─xml2\n│ │ ├─MSnbase 2.32.0 [new][dl] (unknown size)\n│ │ │ ├─affy 1.84.0 [new][dl] (unknown size)\n│ │ │ │ ├─affyio 1.76.0 [new][dl] (unknown size)\n│ │ │ │ │ └─zlibbioc 1.52.0 [new][dl] (unknown size)\n│ │ │ │ ├─Biobase 2.66.0 [new][dl] (unknown size)\n│ │ │ │ │ └─BiocGenerics 0.52.0 [new][dl] (unknown size)\n│ │ │ │ ├─BiocGenerics\n│ │ │ │ ├─BiocManager 1.30.26 [new][dl] (507.69 kB)\n│ │ │ │ ├─preprocessCore 1.68.0 [new][dl] (unknown size)\n│ │ │ │ └─zlibbioc\n│ │ │ ├─Biobase\n│ │ │ ├─BiocGenerics\n│ │ │ ├─BiocParallel\n│ │ │ ├─digest 0.6.37 [new][dl] (223.14 kB)\n│ │ │ ├─ggplot2\n│ │ │ ├─impute 1.80.0 [new][dl] (unknown size)\n│ │ │ ├─IRanges 2.40.1 [new][dl] (unknown size)\n│ │ │ │ ├─BiocGenerics\n│ │ │ │ └─S4Vectors 0.44.0 [new][dl] (unknown size)\n│ │ │ │   └─BiocGenerics\n│ │ │ ├─lattice\n│ │ │ ├─MALDIquant 1.22.3 [new][dl] (2.88 MB)\n│ │ │ ├─MASS\n│ │ │ ├─MsCoreUtils 1.18.0 [new][dl] (unknown size)\n│ │ │ │ ├─clue 0.3-66 [new][dl] (1.01 MB)\n│ │ │ │ │ └─cluster 2.1.8 -&gt; 2.1.8.1 [upd][dl] (608.29 kB)\n│ │ │ │ ├─MASS\n│ │ │ │ ├─Rcpp\n│ │ │ │ └─S4Vectors\n│ │ │ ├─mzID 1.44.0 [new][dl] (unknown size)\n│ │ │ │ ├─doParallel 1.0.17 [new][dl] (192.19 kB)\n│ │ │ │ │ ├─foreach 1.5.2 [new][dl] (149.34 kB)\n│ │ │ │ │ │ ├─codetools\n│ │ │ │ │ │ └─iterators 1.0.14 [new][dl] (353.39 kB)\n│ │ │ │ │ └─iterators\n│ │ │ │ ├─foreach\n│ │ │ │ ├─iterators\n│ │ │ │ ├─plyr\n│ │ │ │ ├─ProtGenerics 1.38.0 [new][dl] (unknown size)\n│ │ │ │ └─XML 3.99-0.18 [new][dl] (3.11 MB)\n│ │ │ ├─mzR 2.40.0 [new][dl] (unknown size)\n│ │ │ │ ├─Biobase\n│ │ │ │ ├─BiocGenerics\n│ │ │ │ ├─ncdf4 1.24 [new][dl] (7.51 MB)\n│ │ │ │ ├─ProtGenerics\n│ │ │ │ └─Rcpp\n│ │ │ ├─pcaMethods 1.98.0 [new][dl] (unknown size)\n│ │ │ │ ├─Biobase\n│ │ │ │ ├─BiocGenerics\n│ │ │ │ ├─MASS\n│ │ │ │ └─Rcpp\n│ │ │ ├─plyr\n│ │ │ ├─ProtGenerics\n│ │ │ ├─PSMatch 1.10.0 [new][dl] (unknown size)\n│ │ │ │ ├─BiocGenerics\n│ │ │ │ ├─BiocParallel\n│ │ │ │ ├─igraph 2.1.4 [new][dl] (7.17 MB)\n│ │ │ │ │ ├─cli\n│ │ │ │ │ ├─cpp11\n│ │ │ │ │ ├─lifecycle\n│ │ │ │ │ ├─magrittr\n│ │ │ │ │ ├─Matrix\n│ │ │ │ │ ├─pkgconfig\n│ │ │ │ │ ├─rlang\n│ │ │ │ │ └─vctrs\n│ │ │ │ ├─Matrix\n│ │ │ │ ├─MsCoreUtils\n│ │ │ │ ├─ProtGenerics\n│ │ │ │ ├─QFeatures 1.16.0 [new][dl] (unknown size)\n│ │ │ │ │ ├─AnnotationFilter 1.30.0 [new][dl] (unknown size)\n│ │ │ │ │ │ ├─GenomicRanges 1.58.0 [new][dl] (unknown size)\n│ │ │ │ │ │ │ ├─BiocGenerics\n│ │ │ │ │ │ │ ├─GenomeInfoDb 1.42.3 [new][dl] (unknown size)\n│ │ │ │ │ │ │ │ ├─BiocGenerics\n│ │ │ │ │ │ │ │ ├─GenomeInfoDbData 1.2.13 [new][bld][dl] (unknown size)\n│ │ │ │ │ │ │ │ ├─IRanges\n│ │ │ │ │ │ │ │ ├─S4Vectors\n│ │ │ │ │ │ │ │ └─UCSC.utils 1.2.0 [new][dl] (unknown size)\n│ │ │ │ │ │ │ │   ├─httr\n│ │ │ │ │ │ │ │   ├─jsonlite\n│ │ │ │ │ │ │ │   └─S4Vectors\n│ │ │ │ │ │ │ ├─IRanges\n│ │ │ │ │ │ │ ├─S4Vectors\n│ │ │ │ │ │ │ └─XVector 0.46.0 [new][dl] (unknown size)\n│ │ │ │ │ │ │   ├─BiocGenerics\n│ │ │ │ │ │ │   ├─IRanges\n│ │ │ │ │ │ │   ├─S4Vectors\n│ │ │ │ │ │ │   └─zlibbioc\n│ │ │ │ │ │ └─lazyeval 0.2.2 [new][dl] (162.85 kB)\n│ │ │ │ │ ├─Biobase\n│ │ │ │ │ ├─BiocGenerics\n│ │ │ │ │ ├─igraph\n│ │ │ │ │ ├─IRanges\n│ │ │ │ │ ├─lazyeval\n│ │ │ │ │ ├─MsCoreUtils\n│ │ │ │ │ ├─MultiAssayExperiment 1.32.0 [new][dl] (unknown size)\n│ │ │ │ │ │ ├─Biobase\n│ │ │ │ │ │ ├─BiocBaseUtils 1.8.0 [new][dl] (unknown size)\n│ │ │ │ │ │ ├─BiocGenerics\n│ │ │ │ │ │ ├─DelayedArray 0.32.0 [new][dl] (unknown size)\n│ │ │ │ │ │ │ ├─BiocGenerics\n│ │ │ │ │ │ │ ├─IRanges\n│ │ │ │ │ │ │ ├─Matrix\n│ │ │ │ │ │ │ ├─MatrixGenerics 1.18.1 [new][dl] (unknown size)\n│ │ │ │ │ │ │ │ └─matrixStats 1.5.0 [new][dl] (540.83 kB)\n│ │ │ │ │ │ │ ├─S4Arrays 1.6.0 [new][dl] (unknown size)\n│ │ │ │ │ │ │ │ ├─abind 1.4-8 [new][dl] (67.21 kB)\n│ │ │ │ │ │ │ │ ├─BiocGenerics\n│ │ │ │ │ │ │ │ ├─crayon\n│ │ │ │ │ │ │ │ ├─IRanges\n│ │ │ │ │ │ │ │ ├─Matrix\n│ │ │ │ │ │ │ │ └─S4Vectors\n│ │ │ │ │ │ │ ├─S4Vectors\n│ │ │ │ │ │ │ └─SparseArray 1.6.2 [new][dl] (unknown size)\n│ │ │ │ │ │ │   ├─BiocGenerics\n│ │ │ │ │ │ │   ├─IRanges\n│ │ │ │ │ │ │   ├─Matrix\n│ │ │ │ │ │ │   ├─MatrixGenerics\n│ │ │ │ │ │ │   ├─matrixStats\n│ │ │ │ │ │ │   ├─S4Arrays\n│ │ │ │ │ │ │   ├─S4Vectors\n│ │ │ │ │ │ │   └─XVector\n│ │ │ │ │ │ ├─GenomicRanges\n│ │ │ │ │ │ ├─IRanges\n│ │ │ │ │ │ ├─S4Vectors\n│ │ │ │ │ │ ├─SummarizedExperiment 1.36.0 [new][dl] (unknown size)\n│ │ │ │ │ │ │ ├─Biobase\n│ │ │ │ │ │ │ ├─BiocGenerics\n│ │ │ │ │ │ │ ├─DelayedArray\n│ │ │ │ │ │ │ ├─GenomeInfoDb\n│ │ │ │ │ │ │ ├─GenomicRanges\n│ │ │ │ │ │ │ ├─IRanges\n│ │ │ │ │ │ │ ├─Matrix\n│ │ │ │ │ │ │ ├─MatrixGenerics\n│ │ │ │ │ │ │ ├─S4Arrays\n│ │ │ │ │ │ │ └─S4Vectors\n│ │ │ │ │ │ └─tidyr\n│ │ │ │ │ ├─plotly 4.11.0 [new][dl] (3.92 MB)\n│ │ │ │ │ │ ├─base64enc 0.1-3 [new][dl] (33.12 kB)\n│ │ │ │ │ │ ├─crosstalk 1.2.1 [new][dl] (416.29 kB)\n│ │ │ │ │ │ │ ├─htmltools 0.5.8.1 [new][dl] (363.20 kB)\n│ │ │ │ │ │ │ │ ├─base64enc\n│ │ │ │ │ │ │ │ ├─digest\n│ │ │ │ │ │ │ │ ├─fastmap 1.2.0 [new][dl] (135.36 kB)\n│ │ │ │ │ │ │ │ └─rlang\n│ │ │ │ │ │ │ ├─jsonlite\n│ │ │ │ │ │ │ ├─lazyeval\n│ │ │ │ │ │ │ └─R6\n│ │ │ │ │ │ ├─data.table 1.17.8 [new][dl] (2.89 MB)\n│ │ │ │ │ │ ├─digest\n│ │ │ │ │ │ ├─dplyr\n│ │ │ │ │ │ ├─ggplot2\n│ │ │ │ │ │ ├─htmltools\n│ │ │ │ │ │ ├─htmlwidgets 1.6.4 [new][dl] (813.36 kB)\n│ │ │ │ │ │ │ ├─htmltools\n│ │ │ │ │ │ │ ├─jsonlite\n│ │ │ │ │ │ │ ├─knitr 1.50 [new][dl] (1.16 MB)\n│ │ │ │ │ │ │ │ ├─evaluate 1.0.4 [new][dl] (104.89 kB)\n│ │ │ │ │ │ │ │ ├─highr 0.11 [new][dl] (44.22 kB)\n│ │ │ │ │ │ │ │ │ └─xfun 0.52 [new][dl] (605.63 kB)\n│ │ │ │ │ │ │ │ ├─xfun\n│ │ │ │ │ │ │ │ └─yaml 2.3.10 [new][dl] (119.45 kB)\n│ │ │ │ │ │ │ ├─rmarkdown 2.29 [new][dl] (2.70 MB)\n│ │ │ │ │ │ │ │ ├─bslib 0.9.0 [new][dl] (5.92 MB)\n│ │ │ │ │ │ │ │ │ ├─base64enc\n│ │ │ │ │ │ │ │ │ ├─cachem 1.1.0 [new][dl] (73.84 kB)\n│ │ │ │ │ │ │ │ │ │ ├─fastmap\n│ │ │ │ │ │ │ │ │ │ └─rlang\n│ │ │ │ │ │ │ │ │ ├─fastmap\n│ │ │ │ │ │ │ │ │ ├─htmltools\n│ │ │ │ │ │ │ │ │ ├─jquerylib 0.1.4 [new][dl] (526.06 kB)\n│ │ │ │ │ │ │ │ │ │ └─htmltools\n│ │ │ │ │ │ │ │ │ ├─jsonlite\n│ │ │ │ │ │ │ │ │ ├─lifecycle\n│ │ │ │ │ │ │ │ │ ├─memoise 2.0.1 [new][dl] (51.10 kB)\n│ │ │ │ │ │ │ │ │ │ ├─cachem\n│ │ │ │ │ │ │ │ │ │ └─rlang\n│ │ │ │ │ │ │ │ │ ├─mime\n│ │ │ │ │ │ │ │ │ ├─rlang\n│ │ │ │ │ │ │ │ │ └─sass 0.4.10 [new][dl] (2.61 MB)\n│ │ │ │ │ │ │ │ │   ├─fs 1.6.6 [new][dl] (415.38 kB)\n│ │ │ │ │ │ │ │ │   ├─htmltools\n│ │ │ │ │ │ │ │ │   ├─R6\n│ │ │ │ │ │ │ │ │   ├─rappdirs 0.3.3 [new][dl] (52.59 kB)\n│ │ │ │ │ │ │ │ │   └─rlang\n│ │ │ │ │ │ │ │ ├─evaluate\n│ │ │ │ │ │ │ │ ├─fontawesome 0.5.3 [new][dl] (1.39 MB)\n│ │ │ │ │ │ │ │ │ ├─htmltools\n│ │ │ │ │ │ │ │ │ └─rlang\n│ │ │ │ │ │ │ │ ├─htmltools\n│ │ │ │ │ │ │ │ ├─jquerylib\n│ │ │ │ │ │ │ │ ├─jsonlite\n│ │ │ │ │ │ │ │ ├─knitr\n│ │ │ │ │ │ │ │ ├─tinytex 0.57 [new][dl] (146.71 kB)\n│ │ │ │ │ │ │ │ │ └─xfun\n│ │ │ │ │ │ │ │ ├─xfun\n│ │ │ │ │ │ │ │ └─yaml\n│ │ │ │ │ │ │ └─yaml\n│ │ │ │ │ │ ├─httr\n│ │ │ │ │ │ ├─jsonlite\n│ │ │ │ │ │ ├─lazyeval\n│ │ │ │ │ │ ├─magrittr\n│ │ │ │ │ │ ├─promises 1.3.3 [new][dl] (2.03 MB)\n│ │ │ │ │ │ │ ├─fastmap\n│ │ │ │ │ │ │ ├─later 1.4.2 [new][dl] (468.20 kB)\n│ │ │ │ │ │ │ │ ├─Rcpp\n│ │ │ │ │ │ │ │ └─rlang\n│ │ │ │ │ │ │ ├─magrittr\n│ │ │ │ │ │ │ ├─R6\n│ │ │ │ │ │ │ ├─Rcpp\n│ │ │ │ │ │ │ └─rlang\n│ │ │ │ │ │ ├─purrr\n│ │ │ │ │ │ ├─RColorBrewer\n│ │ │ │ │ │ ├─rlang\n│ │ │ │ │ │ ├─scales\n│ │ │ │ │ │ ├─tibble\n│ │ │ │ │ │ ├─tidyr\n│ │ │ │ │ │ ├─vctrs\n│ │ │ │ │ │ └─viridisLite\n│ │ │ │ │ ├─ProtGenerics\n│ │ │ │ │ ├─reshape2 1.4.4 [new][dl] (438.87 kB)\n│ │ │ │ │ │ ├─plyr\n│ │ │ │ │ │ ├─Rcpp\n│ │ │ │ │ │ └─stringr\n│ │ │ │ │ ├─S4Vectors\n│ │ │ │ │ ├─SummarizedExperiment\n│ │ │ │ │ ├─tidyr\n│ │ │ │ │ └─tidyselect\n│ │ │ │ └─S4Vectors\n│ │ │ ├─Rcpp\n│ │ │ ├─S4Vectors\n│ │ │ ├─scales\n│ │ │ └─vsn 3.74.0 [new][dl] (unknown size)\n│ │ │   ├─affy\n│ │ │   ├─Biobase\n│ │ │   ├─ggplot2\n│ │ │   ├─lattice\n│ │ │   └─limma 3.62.2 [new][dl] (unknown size)\n│ │ │     └─statmod 1.5.0 [new][dl] (321.50 kB)\n│ │ ├─ProtGenerics\n│ │ ├─lifecycle\n│ │ └─ggplot2\n│ ├─ComplexHeatmap 2.22.0 [new][dl] (unknown size)\n│ │ ├─circlize 0.4.16 [new][dl] (3.32 MB)\n│ │ │ ├─colorspace 2.1-1 [new][dl] (2.67 MB)\n│ │ │ ├─GlobalOptions 0.1.2 [new][dl] (469.42 kB)\n│ │ │ └─shape 1.4.6.1 [new][dl] (753.94 kB)\n│ │ ├─clue\n│ │ ├─codetools\n│ │ ├─colorspace\n│ │ ├─digest\n│ │ ├─doParallel\n│ │ ├─foreach\n│ │ ├─GetoptLong 1.0.5 [new][dl] (1.07 MB)\n│ │ │ ├─crayon\n│ │ │ ├─GlobalOptions\n│ │ │ └─rjson 0.2.23 [new][dl] (438.00 kB)\n│ │ ├─GlobalOptions\n│ │ ├─IRanges\n│ │ ├─matrixStats\n│ │ ├─png 0.1-8 [new][dl] (194.23 kB)\n│ │ └─RColorBrewer\n│ ├─tidyselect\n│ ├─vctrs\n│ ├─tidyr\n│ ├─SummarizedExperiment\n│ └─S4Vectors\n└─hms\n\nKey:  [new] new | [upd] update | [dl] download | [bld] build | [cmp] compile",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#update-the-lagci-package",
    "href": "1-1-Installation and Update.html#update-the-lagci-package",
    "title": "1  Installation and Update",
    "section": "1.6 Update the lagci package",
    "text": "1.6 Update the lagci package\n\n# 0) See if you have libraried the lagci package\nprint(\"package:lagci\" %in% search()) # if you libraried the lagci, it will echo `TRUE`\n\n# 1) Detach the libraried lagci package\ndetach(name = \"package:lagci\", unload = TRUE)\n\n# 2) Uninstall the lagci package that already existed\nremove.packages(pkgs = \"lagci\")\n\n# 3) Install the lagci once again\npak::pak(\"jaspershen-lab/lagci\")\n\nIf you can’t install or update lagci successfully, please contact us by\n{{&lt; cta cta_text=\"📥 Contact us\" cta_link=\"https://www.shen-lab.org/#contact\" &gt;}}\nor leave me a comment below.",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "1-1-Installation and Update.html#session-information",
    "href": "1-1-Installation and Update.html#session-information",
    "title": "1  Installation and Update",
    "section": "1.7 Session information",
    "text": "1.7 Session information\n\nsessionInfo()\n\nR version 4.4.3 (2025-02-28 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 26100)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=Chinese (Simplified)_China.utf8 \n[2] LC_CTYPE=Chinese (Simplified)_China.utf8   \n[3] LC_MONETARY=Chinese (Simplified)_China.utf8\n[4] LC_NUMERIC=C                               \n[5] LC_TIME=Chinese (Simplified)_China.utf8    \n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] digest_0.6.37     R6_2.6.1          fastmap_1.2.0     xfun_0.52        \n [5] knitr_1.50        htmltools_0.5.8.1 rmarkdown_2.29    ps_1.9.1         \n [9] cli_3.6.5         processx_3.8.6    callr_3.7.6       pak_0.9.0        \n[13] compiler_4.4.3    rstudioapi_0.17.1 tools_4.4.3       evaluate_1.0.4   \n[17] rlang_1.1.6       jsonlite_2.0.0    htmlwidgets_1.6.4",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Installation and Update</span>"
    ]
  },
  {
    "objectID": "2-2-Time Plot.html",
    "href": "2-2-Time Plot.html",
    "title": "6  Time Plot",
    "section": "",
    "text": "Before start with this tutorial, please load lagci package first.\n\nlibrary(lagci)\n\nWarning in fun(libname, pkgname): mzR has been built against a different Rcpp version (1.0.13)\nthan is installed on your system (1.1.0). This might lead to errors\nwhen loading mzR. If you encounter such issues, please send a report,\nincluding the output of sessionInfo() to the Bioc support forum at \nhttps://support.bioconductor.org/. For details see also\nhttps://github.com/sneumann/mzR/wiki/mzR-Rcpp-compiler-linker-issue.\n\n\n── Attaching packages ────────────────────────────────────────── lagci 0.99.5 ──\n\n\n✔ dplyr   1.1.4     ✔ ggplot2 3.5.2\n\n\n── Conflicts ────────────────────────────────────────────── lagci_conflicts() ──\n✖ methods::body&lt;-()    masks base::body&lt;-()\n✖ dplyr::filter()      masks stats::filter()\n✖ methods::kronecker() masks base::kronecker()\n✖ dplyr::lag()         masks stats::lag()\n\n\nBy using the time_plot function, you can obtain the visualization results of the time series.\n\nexample_data_1 &lt;- data.frame(\n  datetime = seq(from = as.POSIXct(\"2003-01-09 00:00:00\"),\n                 to = as.POSIXct(\"2003-01-10 00:00:00\"),\n                 by = \"10 min\")\n)\n\nexample_data_1$value &lt;- sin(seq(from = 0, to = 2*pi,\n                                length.out = nrow(example_data_1)))\n\nhead(example_data_1)\n\n             datetime      value\n1 2003-01-09 00:00:00 0.00000000\n2 2003-01-09 00:10:00 0.04361939\n3 2003-01-09 00:20:00 0.08715574\n4 2003-01-09 00:30:00 0.13052619\n5 2003-01-09 00:40:00 0.17364818\n6 2003-01-09 00:50:00 0.21643961\n\n\n\ntime_plot(x = example_data_1$value,\n          time = example_data_1$datetime,\n          color = \"green\",\n          y_axis_name = \"y_axis\",\n          sun_rise_time = \"6:00:00\",\n          sun_set_time = \"18:00:00\",\n          time_gap = 6,\n          add_point = FALSE,\n          facet = FALSE)\n\n\n\n\n\n\n\n\n\ntime_plot(x = example_data_1$value,\n          time = example_data_1$datetime,\n          color = \"blue\",\n          y_axis_name = \"value\",\n          sun_rise_time = \"8:00:00\",\n          sun_set_time = \"20:00:00\",\n          time_gap = 1,\n          add_point = FALSE,\n          facet = TRUE)\n\n\n\n\n\n\n\n\n\ntime_plot(x = example_data_1$value,\n          time = example_data_1$datetime,\n          color = \"red\",\n          y_axis_name = \"name\",\n          sun_rise_time = \"6:00:00\",\n          sun_set_time = \"18:00:00\",\n          time_gap = 3,\n          add_point = TRUE,\n          facet = TRUE)",
    "crumbs": [
      "Raw Data Processing and Preview",
      "<span class='chapter-number'>6</span>  <span class='chapter-title'>Time Plot</span>"
    ]
  },
  {
    "objectID": "3-1-Calculation.html#calculation",
    "href": "3-1-Calculation.html#calculation",
    "title": "7  Calculation",
    "section": "7.2 Calculation",
    "text": "7.2 Calculation\nCalculate with calculate_lagged_correlation function of lagci package. ### x, y\nType: Numeric vectors\nPurpose: The two time-series to be compared.\nDetails: Each vector represents the observed values of one variable. Internally, both vectors are standardized (centered and scaled to unit variance) to make the correlation unbiased by different magnitudes or units.\n\n7.2.1 time1, time2\nType: POSIXct vectors (or convertible to POSIXct)\nPurpose: Timestamps corresponding to x and y.\nRole: Used to align the two time-series onto a shared, regularly spaced timeline before computing correlations.\n\n\n7.2.2 time_tol\nType: Numeric (hours)\nDefault: 1\nMeaning: The maximum time lag to evaluate in both positive and negative directions.\nUnit: Hours. For example:\ntime_tol = 1 → ±1 hour\ntime_tol = 0.5 → ±30 minutes\ntime_tol = 1/60 → ±1 minute\n\n\n7.2.3 step\nType: Numeric (hours)\nDefault: 1/60 (i.e., 1 minute)\nMeaning: The resolution of the regular time grid used for alignment.\nUnit: Hours. For example:\nstep = 1 → 1-hour sampling\nstep = 1/60 → 1-minute sampling\nstep = 1/3600 → 1-second sampling\n\n\n7.2.4 min_matched_sample\nType: Integer\nDefault: 10\nPurpose: Minimum number of overlapping (non-missing) samples required after alignment. If fewer matched samples remain, the function returns NULL to avoid unstable correlations.\n\n\n7.2.5 progressbar\nType: Logical\nDefault: TRUE\nPurpose: Whether to display progress information. Particularly useful when applying the function to many pairs of series in batch analyses.\n\n\n7.2.6 align_method\nType: Character string\nOptions: “linear” or “constant”\nDefault: “linear”\nPurpose: Method used for interpolation when mapping the irregular time-series onto the regular grid.\n“linear”: Interpolates linearly between neighboring observations.\n“constant”: Uses the nearest neighbor (step-wise constant).\n\n\n7.2.7 cor_method\nType: Character string\nOptions: “spearman” or “pearson”\nDefault: “spearman”\nPurpose: The statistical correlation measure.\n“pearson”: Measures linear correlation between the raw values.\n“spearman”: Measures rank correlation, robust to monotonic but non-linear relationships and less sensitive to outliers.\n\nresult_1 &lt;- lagci::calculate_lagged_correlation(\n  x = heart_data$heart,\n  y = step_data$step,\n  time1 = heart_data$time,\n  time2 = step_data$time,\n  time_tol = 0.5,\n  step = 1/60,\n  align_method = \"linear\",\n  cor_method = \"spearman\"\n)\n\nprint(result_1)\n\n-------------------- \nBrief information \nShift time is x - y \nIf shift time &gt; 0: \nmeans that x is changing after y \nIf shift time &lt; 0: \nmeans that x is changing before y \n-------------------- \nlength of x: 91948 \nlength of y: 12960 \nlength of correlations: 0 \nlength of correlations: 0 \nMax correlation index: 32 \nGlobal correlation index: 30 \n-------------------- \nParameters \n-------------------- \npacakge_name: lagci \nfunction_name: calculate_lagged_correlation \ntime: 2025-08-21 21:57:14.061698 \nparameters:\ntime_tol : 0.5 \nstep : 0.0166666666666667 \nmin_matched_sample : 10 \nprogressbar : TRUE \nthreads : 10 \ncor_method : spearman \n\n\n\nresult_2 &lt;- lagci::calculate_lagged_correlation(\n  y = heart_data$heart,\n  x = step_data$step,\n  time2 = heart_data$time,\n  time1 = step_data$time,\n  time_tol = 0.5, # \n  step = 1/60,\n  align_method = \"linear\",\n  cor_method = \"spearman\"\n)\n\nprint(result_2)\n\n-------------------- \nBrief information \nShift time is x - y \nIf shift time &gt; 0: \nmeans that x is changing after y \nIf shift time &lt; 0: \nmeans that x is changing before y \n-------------------- \nlength of x: 12960 \nlength of y: 91948 \nlength of correlations: 0 \nlength of correlations: 0 \nMax correlation index: 28 \nGlobal correlation index: 30 \n-------------------- \nParameters \n-------------------- \npacakge_name: lagci \nfunction_name: calculate_lagged_correlation \ntime: 2025-08-21 21:57:14.1908 \nparameters:\ntime_tol : 0.5 \nstep : 0.0166666666666667 \nmin_matched_sample : 10 \nprogressbar : TRUE \nthreads : 10 \ncor_method : spearman",
    "crumbs": [
      "Calculation and Plotting",
      "<span class='chapter-number'>7</span>  <span class='chapter-title'>Calculation</span>"
    ]
  },
  {
    "objectID": "4-2-Run lagcishiny on your PC.html",
    "href": "4-2-Run lagcishiny on your PC.html",
    "title": "14  Run lagcishiny on your PC",
    "section": "",
    "text": "You can run the following commands to start the lagcishiny APP in your default browser\n\nlibrary(lagcishiny)\n\nlagcishiny::lagci_shiny()\n\nIn lagcishiny web APP, you can operate lagci in a visual way, and we support exporting images in eight formats, as well as reports in PDF (TinyTex is needed), PPTX and HTML formats",
    "crumbs": [
      "lagcishiny Web Application",
      "<span class='chapter-number'>14</span>  <span class='chapter-title'>Run lagcishiny on your PC</span>"
    ]
  },
  {
    "objectID": "4-3-Deploy lagcishiny on your server.html",
    "href": "4-3-Deploy lagcishiny on your server.html",
    "title": "15  Deploy lagcishiny on your server",
    "section": "",
    "text": "15.1 Before starting\nYou need to prepare the following things: - A server with a public IP address - Domain name with DNS record - non-root account, such as ubuntu - Opening ufw\nIn this tutorial, We use Ubuntu 22.04.",
    "crumbs": [
      "lagcishiny Web Application",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Deploy lagcishiny on your server</span>"
    ]
  },
  {
    "objectID": "4-3-Deploy lagcishiny on your server.html#before-starting",
    "href": "4-3-Deploy lagcishiny on your server.html#before-starting",
    "title": "15  Deploy lagcishiny on your server",
    "section": "",
    "text": "sudo ufw allow OpenSSH\nsudo ufw allow \"Nginx Full\"\nsudo ufw enable\nsudo ufw status\nsudo apt install -y nginx\n\nsudo apt install -y certbot python3-certbot-nginx\n\n15.1.1 Install R\nsudo apt update -qq\nsudo apt install --no-install-recommends -y software-properties-common dirmngr\nwget -qO- https://cloud.r-project.org/bin/linux/ubuntu/marutter_pubkey.asc \\\n| sudo tee -a /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc\n\ngpg --show-keys /etc/apt/trusted.gpg.d/cran_ubuntu_key.asc\n# Fingerprint should be: E298A3A825C0D65DFD57CBB651716619E084DAB9\nsudo add-apt-repository \"deb https://cloud.r-project.org/bin/linux/ubuntu jammy-cran40/\"\nsudo apt update\nsudo apt install --no-install-recommends -y r-base\n# (optional, needed for compiling packages from source)\nsudo apt install -y r-base-dev\nCheck it.\nR --version",
    "crumbs": [
      "lagcishiny Web Application",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Deploy lagcishiny on your server</span>"
    ]
  },
  {
    "objectID": "4-3-Deploy lagcishiny on your server.html#shiny-server-nginx",
    "href": "4-3-Deploy lagcishiny on your server.html#shiny-server-nginx",
    "title": "15  Deploy lagcishiny on your server",
    "section": "15.2 Shiny Server + Nginx",
    "text": "15.2 Shiny Server + Nginx\n\n15.2.1 Install Shiny Server\nsudo apt update && sudo apt upgrade -y\n# Install R from Ubuntu repo (basic)\nsudo apt install -y r-base gdebi-core\n\n# Or (recommended) add CRAN repo for latest R\nsudo apt install -y software-properties-common dirmngr apt-transport-https\nsudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys 51716619E084DAB9\nsudo add-apt-repository \"deb https://cloud.r-project.org/bin/linux/ubuntu jammy-cran40/\"\nsudo apt update\nsudo apt install -y r-base\nsudo su - \\\n-c \"R -e \\\"install.packages('shiny', repos='https://cloud.r-project.org/')\\\"\"\n# Download the latest .deb (for Ubuntu 22.04, use bionic build)\nwget https://download3.rstudio.org/ubuntu-14.04/x86_64/shiny-server-1.5.20.1002-amd64.deb\n\n# Install with gdebi\nsudo gdebi shiny-server-1.5.20.1002-amd64.deb\nsudo systemctl enable shiny-server\nsudo systemctl start shiny-server\nsudo systemctl status shiny-server\nCheck it:\ncurl -I http://localhost:3838\n\n\n15.2.2 Deploy Shiny APP\nsudo mkdir -p /srv/shiny-server/app1\nsudo chown -R shiny:shiny /srv/shiny-server/app1\nsudo -u shiny bash -lc 'R -q -e \"sessionInfo()\"'\n# copy your code of shiny app\nsudo cp -r ~/your_local_app/* /srv/shiny-server/app1/\nsudo chown -R shiny:shiny /srv/shiny-server/app1\nThen you can access the app via curl -I http://your_server_ip:3838/app1\n\n\n15.2.3 Configure Nginx\nCreate a new Nginx site configuration (taking the root path mapping to Shiny Server as an example, /app1 is the application path) :\nsudo vim /etc/nginx/sites-available/shiny.conf\nInsert these content:\n# /etc/nginx/sites-available/shiny.conf\nmap $http_upgrade $connection_upgrade {\n  default upgrade;\n  ''      close;\n}\n\nserver {\n  listen 80;\n  server_name yourdomain.com;  # modify to your domain name\n\n  # limit size of uploaded files (Shiny upload)\n  client_max_body_size 200m;\n\n  # 静态资源缓存（可选，小心不要缓存动态内容）\n  location ~* \\.(css|js|png|jpg|jpeg|gif|svg|ico)$ {\n    expires 30d;\n    add_header Cache-Control \"public\";\n    root /var/www/html; # 若无独立静态资源，可删掉本段\n  }\n\n  # Reverse proxy to Shiny Server (3838)\n  location / {\n    proxy_pass http://127.0.0.1:3838;\n    proxy_redirect off;\n\n    # WebSocket need\n    proxy_http_version 1.1;\n    proxy_set_header Upgrade $http_upgrade;\n    proxy_set_header Connection $connection_upgrade;\n\n    # Convey genuine source information\n    proxy_set_header Host $host;\n    proxy_set_header X-Real-IP $remote_addr;\n    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n    proxy_set_header X-Forwarded-Proto $scheme;\n\n    # Shiny requests can be very \"long\"\n    proxy_read_timeout 3600s;\n    proxy_send_timeout 3600s;\n    send_timeout 3600s;\n  }\n}\nEnable and check the configuration:\nsudo ln -s /etc/nginx/sites-available/shiny.conf /etc/nginx/sites-enabled/\nsudo nginx -t\nsudo systemctl reload nginx\nNow, you can access your shiny app via:http://yourdomain.com/app1\n\n\n15.2.4 Get HTTPS certification\nsudo certbot --nginx -d yourdomain.com\nSelect 1 Automatically redirect to HTTPS",
    "crumbs": [
      "lagcishiny Web Application",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Deploy lagcishiny on your server</span>"
    ]
  },
  {
    "objectID": "4-3-Deploy lagcishiny on your server.html#docker-nginx",
    "href": "4-3-Deploy lagcishiny on your server.html#docker-nginx",
    "title": "15  Deploy lagcishiny on your server",
    "section": "15.3 Docker + Nginx",
    "text": "15.3 Docker + Nginx\n\n15.3.1 Download docker image\ndocker pull jaspershenlab/laggedcorshiny:latest\ndocker run -p 3838:3838 -v /Path/In/Your/Server:/home jaspershenlab/laggedcorshiny:latest\n\n\n15.3.2 Nginx\nThe following configuration is the same as that of Shiny Server + Nginx part.",
    "crumbs": [
      "lagcishiny Web Application",
      "<span class='chapter-number'>15</span>  <span class='chapter-title'>Deploy lagcishiny on your server</span>"
    ]
  },
  {
    "objectID": "FAQ and Citation.html",
    "href": "FAQ and Citation.html",
    "title": "FAQ and Citation",
    "section": "",
    "text": "Citation (BibTex)",
    "crumbs": [
      "FAQ and Citation"
    ]
  },
  {
    "objectID": "FAQ and Citation.html#citation-bibtex",
    "href": "FAQ and Citation.html#citation-bibtex",
    "title": "FAQ and Citation",
    "section": "",
    "text": "@ARTICLE{Shen2019-xv,\n  title     = \"Metabolic reaction network-based recursive metabolite annotation\n               for untargeted metabolomics\",\n  author    = \"Shen, Xiaotao and Wang, Ruohong and Xiong, Xin and Yin, Yandong\n               and Cai, Yuping and Ma, Zaijun and Liu, Nan and Zhu, Zheng-Jiang\",\n  journal   = \"Nat. Commun.\",\n  publisher = \"Springer Science and Business Media LLC\",\n  volume    =  10,\n  number    =  1,\n  pages     = \"1516\",\n  month     =  apr,\n  year      =  2019,\n  copyright = \"https://creativecommons.org/licenses/by/4.0\",\n  language  = \"en\"\n}",
    "crumbs": [
      "FAQ and Citation"
    ]
  },
  {
    "objectID": "1-2-Docker Version of lagci.html",
    "href": "1-2-Docker Version of lagci.html",
    "title": "2  Docker Version of lagci",
    "section": "",
    "text": "2.1 Install docker\nDocker is a set of platform as a service (PaaS) products that use OS-level virtualization to deliver software in packages called containers. So it is useful for people who want to share the code, data, and even analysis environment with other people to repeat their analysis and results.\nWe provide a docker version of tidymass, all the packages in lagci and the dependent packages have been installed.\nPlease refer to the offical website to download and install docker. And then run docker.",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Docker Version of lagci</span>"
    ]
  },
  {
    "objectID": "1-2-Docker Version of lagci.html#pull-the-lagci-image",
    "href": "1-2-Docker Version of lagci.html#pull-the-lagci-image",
    "title": "2  Docker Version of lagci",
    "section": "2.2 Pull the lagci image",
    "text": "2.2 Pull the lagci image\nOpen you terminal and then type code below:\ndocker pull jaspershenlab/laggedcor",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Docker Version of lagci</span>"
    ]
  },
  {
    "objectID": "1-2-Docker Version of lagci.html#run-lagci-docker-image",
    "href": "1-2-Docker Version of lagci.html#run-lagci-docker-image",
    "title": "2  Docker Version of lagci",
    "section": "2.3 Run lagci docker image",
    "text": "2.3 Run lagci docker image\nIn you terminal, run the code below:\ndocker run -e PASSWORD=lagci -p 8787:8787 jaspershen/laggedcor:latest\nThe below command will link the RStudio home folder with the desktop of the local machine running the container. Anything saved or edited in the home folder when using the container will be stored on the local desktop.\ndocker run -e PASSWORD=lagci -v ~/Desktop:/home/rstudio/ -p 8787:8787 jaspershen/laggedcor:latest",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Docker Version of lagci</span>"
    ]
  },
  {
    "objectID": "1-2-Docker Version of lagci.html#open-the-rstudio-server",
    "href": "1-2-Docker Version of lagci.html#open-the-rstudio-server",
    "title": "2  Docker Version of lagci",
    "section": "2.4 Open the RStudio server",
    "text": "2.4 Open the RStudio server\nThen open the browser and visit http://localhost:8787 to power on RStudio server. The user name is rstudio and the password is lagci.",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Docker Version of lagci</span>"
    ]
  },
  {
    "objectID": "1-2-Docker Version of lagci.html#session-information",
    "href": "1-2-Docker Version of lagci.html#session-information",
    "title": "2  Docker Version of lagci",
    "section": "2.5 Session information",
    "text": "2.5 Session information\n\nsessionInfo()\n\nR version 4.4.3 (2025-02-28 ucrt)\nPlatform: x86_64-w64-mingw32/x64\nRunning under: Windows 11 x64 (build 26100)\n\nMatrix products: default\n\n\nlocale:\n[1] LC_COLLATE=Chinese (Simplified)_China.utf8 \n[2] LC_CTYPE=Chinese (Simplified)_China.utf8   \n[3] LC_MONETARY=Chinese (Simplified)_China.utf8\n[4] LC_NUMERIC=C                               \n[5] LC_TIME=Chinese (Simplified)_China.utf8    \n\ntime zone: Asia/Shanghai\ntzcode source: internal\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nloaded via a namespace (and not attached):\n [1] htmlwidgets_1.6.4 compiler_4.4.3    fastmap_1.2.0     cli_3.6.5        \n [5] tools_4.4.3       htmltools_0.5.8.1 rstudioapi_0.17.1 rmarkdown_2.29   \n [9] knitr_1.50        jsonlite_2.0.0    xfun_0.52         digest_0.6.37    \n[13] rlang_1.1.6       evaluate_1.0.4",
    "crumbs": [
      "Install lagci and Docker",
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Docker Version of lagci</span>"
    ]
  }
]